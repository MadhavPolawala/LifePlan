<button
  data-drawer-target="logo-sidebar"
  data-drawer-toggle="logo-sidebar"
  aria-controls="logo-sidebar"
  type="button"
  class="inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
>
  <span class="sr-only">Open sidebar</span>
  <svg
    class="w-6 h-6"
    aria-hidden="true"
    fill="currentColor"
    viewBox="0 0 20 20"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      clip-rule="evenodd"
      fill-rule="evenodd"
      d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"
    ></path>
  </svg>
</button>

<aside
  id="logo-sidebar "
  class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0 overflow-y-auto border-r-[1px] border-r-gray-200 scroll-hide"
  aria-label="Sidebar"
>
  <div class="flex flex-col gap-4 my-4">
    <div class="px-6 py-1 flex justify-between items-center">
      <div class="flex gap-3 items-center cursor-pointer">
        <div>
          <img class="w-[28px]" src="../../../assets/images/Group.png" alt="" />
        </div>
        <div>
          <img
            class="w-[110px]"
            src="../../../assets/images/Logotype.png"
            alt=""
          />
        </div>
      </div>
      <div>
        <svg
          class="w-[20px] h-[20px] text-[#667085]"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="m17 16-4-4 4-4m-6 8-4-4 4-4"
          />
        </svg>
      </div>
    </div>
    <div class="flex flex-col divide-y-[1px] divide-[#EAECF0] mx-4">
      <div class="flex flex-col gap-1 py-2">
        @for (navbar of navbarJson; track $index) {
        <div
          class="flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-gray-100"
        >
          <div><img class="h-6 w-6" src="{{ navbar.icon }}" alt="" /></div>
          <div class="inter-5 text-sm text-gray-700">{{ navbar.name }}</div>
        </div>

        }
      </div>
      <div class="flex flex-col py-2">
        <div class="inter-5 text-sm pb-2 text-gray-700">Shared</div>
        <div class="flex flex-col gap-1">
          @for (shared of sharedJson; track $index) {
          <div
            class="flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-gray-100"
          >
            <div><img class="h-6 w-6" src="{{ shared.icon }}" alt="" /></div>
            <div class="inter-5 text-sm text-gray-700">{{ shared.name }}</div>
          </div>

          }
        </div>
      </div>
      <div class="flex flex-col gap-1 py-2">
        <div class="inter-5 text-sm pb-2 text-gray-700">Private</div>
        <div>
          <button
            class="group flex items-center gap-3 px-3 py-2 w-full border border-gray-200 hover:border-gray-500 rounded-md"
          >
            <div>
              <svg
                class="w-[24px] h-[24px] text-gray-500 group-hover:text-gray-700"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1"
                  d="M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                />
              </svg>
            </div>
            <div
              class="inter-5 text-base text-gray-500 group-hover:text-gray-700"
            >
              New page
            </div>
          </button>
        </div>
        <div class="flex flex-col gap-1">
          @for (private of privateJson; track $index) {
          <div
            class="flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-gray-100"
          >
            <div><img class="h-6 w-6" src="{{ private.icon }}" alt="" /></div>
            <div class="inter-5 text-sm text-gray-700">{{ private.name }}</div>
          </div>

          }
        </div>
      </div>
    </div>
  </div>
</aside>

<div
  class="w-full flex justify-between fixed bg-white top-0 pe-8 ps-72 py-2 z-3"
>
  <div class="relative">
    <input
      class="xl:w-[576px] w-[480px] py-4 px-11 border border-gray-200 rounded-xl hover:border-2 hover:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:border-blue-500 focus:border-2 inter-4 text-base text-gray-500 transition duration-300"
      type="search"
      placeholder="Search"
    />
    <img
      class="absolute top-[19px] left-4 w-5"
      src="../../../assets/images/icons/search-lg.png"
      alt=""
    />
    <svg
      class="absolute right-4 top-[19px] w-[20px] h-[20px] text-gray-500"
      aria-hidden="true"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      fill="none"
      viewBox="0 0 24 24"
    >
      <path
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1"
        d="M8 8v8m0-8h8M8 8H6a2 2 0 1 1 2-2v2Zm0 8h8m-8 0H6a2 2 0 1 0 2 2v-2Zm8 0V8m0 8h2a2 2 0 1 1-2 2v-2Zm0-8h2a2 2 0 1 0-2-2v2Z"
      />
    </svg>
  </div>
  <div class="flex gap-7 items-center">
    <div class="flex gap-5">
      <div class="cursor-pointer">
        <img
          class="h-6 w-6 hover:scale-110 transition"
          src="../../../assets/images/icons/notification.png"
          alt=""
        />
      </div>
      <div class="cursor-pointer">
        <img
          class="h-6 w-6 hover:scale-110 transition"
          src="../../../assets/images/icons/setting-2.png"
          alt=""
        />
      </div>
    </div>
    <div class="cursor-pointer">
      <img
        class="h-10 w-10 hover:scale-110 transition"
        src="../../../assets/images/icons/Avatar.png"
        alt=""
      />
    </div>
  </div>
</div>

<div
  id="journalSide"
  class="fixed w-[286px] mt-4 ml-64 pt-2 border-r-[1px] border-r-gray-200 hidden sm:block"
>
  <div
    id="journalSearch1"
    class="flex items-center justify-between p-3 transition ease-in duration-300"
  >
    <div class="inter-5 text-lg text-gray-900">Journal</div>
    <div class="flex gap-4 items-center">
      <div
        (click)="createJournal()"
        class="cursor-pointer hover:scale-105 transition"
      >
        <svg
          class="w-6 h-6 text-gray-300 hover:text-gray-600"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
          />
        </svg>
      </div>
      <div
        (click)="openSearch()"
        class="cursor-pointer hover:scale-105 transition"
      >
        <img
          class="w-6"
          src="../../../assets/images/icons/search-lg.png"
          alt=""
        />
      </div>
    </div>
  </div>
  <div
    id="journalSearch2"
    class="flex gap-1 p-3 items-center justify-between hidden transition ease-in duration-300"
  >
    <div (click)="createJournal()" class="cursor-pointer">
      <img
        class="w-7 hover:scale-105 transition"
        src="../../../assets/images/icons/add.png"
        alt=""
      />
    </div>
    <div class="relative">
      <input
        class="ps-10 pe-2 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-300 focus:border-blue-500 focus:border-2 hover:border-2 text-gray-500 transition duration-300 w-[220px]"
        type="text"
      />
      <img
        class="absolute left-3 top-2 w-6"
        src="../../../assets/images/icons/search-lg.png"
        alt=""
      />
      <svg
        (click)="closeSearch()"
        class="w-5 h-5 text-gray-400 absolute right-3 top-3 hover:cursor-pointer hover:text-gray-800"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18 17.94 6M18 18 6.06 6"
        />
      </svg>
    </div>
  </div>
  <div class="flex flex-col gap-3 mx-3 my-3">
    <div class="inter-5 text-sm text-gray-400">Today</div>
    <div class="flex flex-col px-4 py-2 gap-1 rounded-lg bg-gray-100">
      <div class="inter-6 text-sm text-gray-950">New Journal</div>
      <div class="flex gap-2 items-center">
        <div class="inter-5 text-xs text-gray-600">{{ currentDate }}</div>
        <div class="inter-5 text-xs text-gray-400">No additional text</div>
      </div>
    </div>
  </div>

  <!------------------------------------------------------------------------------------------------------------------------------------------------------------------------ All Journal div ----------------------------------------------- ------------------------------------------------------------------------------------------------------------------>

  <div class="flex flex-col gap-3 mt-6 mx-3">
    <div class="inter-5 text-sm text-gray-400">All</div>
    <div
      cdkDropList
      class="flex flex-col divide-y-[1px] divide-gray-200 example-list"
      (cdkDropListDropped)="drop($event)"
    >
      <div
        class="py-2 flex flex-col gap-1 bg-white example-box cursor-pointer"
        *ngFor="let item of journalEntries"
        cdkDrag
      >
        <div class="inter-6 text-sm text-gray-950">{{ item.title }}:</div>
        <div class="flex gap-2 items-center">
          <div class="inter-5 text-xs text-gray-600">{{ currentDate }}</div>
          <div class="truncate inter-5 text-xs text-gray-400">
            {{ item.description }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="journalStart" class="hidden">
  <div
    class="py-4 sm:ml-[542px] mt-12 pt-10 flex flex-col justify-center items-center inter-5 text-xs text-gray-400"
  >
    {{ currentDateTime }}
  </div>
  <div
    class="py-4 sm:ml-[542px] flex flex-col justify-center items-center h-[calc(100vh-120px)]"
  >
    <div
      class="flex flex-col justify-center items-center gap-2 hover:cursor-pointer group"
      (click)="createJournal()"
    >
      <div>
        <svg
          class="w-6 h-6 text-gray-300 group-hover:text-gray-600"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
          />
        </svg>
      </div>
      <div class="inter-4 text-base text-gray-400 group-hover:text-gray-600">
        Create your first journal
      </div>
    </div>
  </div>
</div>
<div
  id="journalModal"
  class="py-4 sm:ml-[542px] mt-12 pt-6 flex flex-col justify-center items-center"
>
  <div class="flex justify-between px-6 py-2 w-full">
    <div class="text-gray-900 inter-4 text-xl">Home dashboard</div>
    <div class="flex items-center gap-4">
      <div
        class="flex group gap-2 px-2 py-1 items-center cursor-pointer border border-gray-300 hover:border-gray-500 hover:bg-gray-100 rounded-lg"
      >
        <div>
          <svg
            class="w-4 h-4 text-gray-500 group-hover:text-gray-700"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-width="2"
              d="M7.926 10.898 15 7.727m-7.074 5.39L15 16.29M8 12a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm12 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm0-11a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"
            />
          </svg>
        </div>
        <div class="inter-5 text-xs text-gray-500 group-hover:text-gray-700">
          Share
        </div>
      </div>
      <button id="dropdownDefaultButton" data-dropdown-toggle="dropdown-ed">
        <svg
          class="w-[24px] h-[24px] text-gray-500 hover:bg-gray-100 rounded-lg hover:border hover:border-gray-500"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-width="2"
            d="M6 12h.01m6 0h.01m5.99 0h.01"
          />
        </svg>
        <!-- Dropdown menu -->
        <div
          id="dropdown-ed"
          class="z-10 hidden flex-col bg-white rounded-lg dark:bg-gray-700 w-56 shadow-lg shadow-[#10182814]"
        >
          <div class="flex justify-between px-4 py-3 group hover:bg-gray-100">
            <div class="flex gap-2 items-center">
              <div>
                <svg
                  class="w-5 h-5 text-gray-500 dark:text-white"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"
                  />
                </svg>
              </div>
              <div class="inter-5 text-gray-700 text-sm">Edit</div>
            </div>
            <div>
              <svg
                class="w-5 h-5 text-[#7F56D9] dark:text-white hidden group-hover:block"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 11.917 9.724 16.5 19 7.5"
                />
              </svg>
            </div>
          </div>
          <div class="flex justify-between px-4 py-3 group hover:bg-gray-100">
            <div class="flex gap-2 items-center">
              <div>
                <svg
                  class="w-[20px] h-[20px] text-gray-500 dark:text-white"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"
                  />
                </svg>
              </div>
              <div class="inter-5 text-gray-700 text-sm">Delete</div>
            </div>
            <div>
              <svg
                class="w-5 h-5 text-[#7F56D9] dark:text-white hidden group-hover:block"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 11.917 9.724 16.5 19 7.5"
                />
              </svg>
            </div>
          </div>
        </div>
      </button>
    </div>
  </div>
  <p class="inter-5 text-xs text-gray-400 pt-4">{{ currentDateTime }}</p>
  <div class="w-full flex flex-col gap-6 p-6">
    <div class="flex gap-[6px]">
      <div
        class="py-1 px-[10px] border border-gray-300 rounded-md inter-5 text-sm text-gray-700"
      >
        TagText1
      </div>
      <div
        class="py-1 px-[10px] border border-gray-300 rounded-md inter-5 text-sm text-gray-700"
      >
        Tag2
      </div>
    </div>
    <div class="w-full text-gray-900 inter-4 text-md">
      Daily Reflections: Hosted a successful yoga workshop, attracting new
      members. Faced a challenge with scheduling; considering a new software
      solution. Explored partnership opportunities with local health food
      vendors. Goals and Objectives: Increase class attendance by 15% in the
      next month. Launch a referral program to incentivize current members.
      Expand class offerings to include high-demand fitness trends. Financial
      Updates: Monthly revenue increased by 8%. Investment in new equipment for
      upcoming fitness classes. Analyzing cost-effective marketing strategies
      for the next quarter. Customer Interactions: Received positive
      testimonials from members on recent classes. Addressed a member concern
      about class timing; adjusting the schedule. Organizing a community fitness
      challenge for engagement and retention. Remember, these examples are
      entirely fictional and created for illustrative purposes. Feel free to
      adapt them based on your creativity and the specific nature of the
      business you have in mind.
    </div>
    <div class="flex flex-wrap w-full gap-x-6 gap-y-4">
      <img class="w-64 h-auto" src="../../../assets/images/img1.png" alt="" />
      <img class="w-64 h-auto" src="../../../assets/images/img2.png" alt="" />
      <img class="w-64 h-auto" src="../../../assets/images/img3.png" alt="" />
      <img class="w-64 h-auto" src="../../../assets/images/img4.png" alt="" />
    </div>

    <!----------------------------------------------------------------------------------------------------------------- -------------------------------------------------- Voice recorder ------------------------------------------------- ------------------------------------------------------------------------------------------------------------------->

    <div id="voiceRecorder" class="flex flex-col">
      <!-- Initial state -->
      @if (currentAudioState === 'initialAudio') {
      <div id="initialState" class="flex flex-col gap-[6px] w-fit">
        <div class="inter-5 text-gray-700 text-sm">Record voice</div>
        <div
          class="flex flex-col gap-3 items-center justify-center px-6 py-4 border border-gray-200 rounded-xl"
        >
          <div class="cursor-pointer">
            <img
              (click)="startRecordingAudio()"
              src="../../../assets/images/record_mic.png"
              alt=""
              class="w-10 h-auto"
            />
          </div>
          <div class="text-sm inter-4 text-gray-600">
            <span
              (click)="startRecordingAudio()"
              class="inter-6 text-[#6941C6] text-sm font-semibold cursor-pointer"
              >Click</span
            >
            to start recording...
          </div>
        </div>
      </div>
      }

      <!-- Recording state -->
      @if (currentAudioState === 'recordingAudio') {
      <div id="initialState" class="flex flex-col gap-[6px] w-fit">
        <div class="inter-5 text-gray-700 text-sm">Record voice</div>
        <div
          class="flex flex-row gap-6 justify-center px-16 py-6 border border-gray-200 rounded-xl"
        >
          <div class="flex flex-col gap-3 items-center">
            <div class="cursor-pointer">
              @if ( !isPaused ) {
              <svg
                (click)="onAudioPause()"
                id="recordingPauseIcon"
                class="w-8 h-8 text-white bg-red-500 p-2 rounded-full ring-8 ring-gray-200"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10 9v6m4-6v6m7-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                />
              </svg>
              } @if (isPaused) {<svg
                (click)="onAudioResume()"
                id="recordingResumeIcon"
                class="w-8 h-8 text-white bg-red-500 p-2 rounded-full ring-8 ring-gray-200"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 18V6l8 6-8 6Z"
                /></svg
              >}
            </div>
            <div class="text-sm inter-4 text-gray-600 hover:text-[#6941C6]">
              00:{{ recordingTime | number : "2.0" }}
            </div>
            <div class="w-28 rounded-full h-2 bg-gray-200">
              <div
                class="bg-red-500 h-2 rounded-full"
                [style.width.%]="(recordingTime / maxRecordingTime) * 100"
              ></div>
            </div>
          </div>
          <div>
            <svg
              id="recordingStopIcon"
              (click)="onAudioStop()"
              class="w-7 h-7 text-white border-white border-2 rounded-full bg-gray-400 p-1 ring-4 ring-gray-200 cursor-pointer"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="none"
              viewBox="0 0 24 24"
            >
              <rect
                width="12"
                height="12"
                x="6"
                y="6"
                stroke="currentColor"
                stroke-linejoin="round"
                stroke-width="2.5"
                rx="1"
              />
            </svg>
          </div>
        </div>
      </div>
      }

      <!-- Recorded state -->
      @if (currentAudioState === 'recordedAudio') {
      <div
        id="recordedState"
        class="flex gap-5 justify-center p-4 border border-gray-200 rounded-xl w-fit"
      >
        <div>
          <svg
            id="recordedPlayIcon"
            (click)="onRecordedPlay()"
            class="w-8 h-8 bg-[#9E77ED] rounded-full ps-1 text-white ring-8 ring-gray-200 cursor-pointer hover:bg-[#6941C6] hover:text-white"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 18V6l8 6-8 6Z"
            />
          </svg>
          <svg
            id="recordedPauseIcon"
            (click)="onRecordedPause()"
            class="w-8 h-8 bg-[#9E77ED] rounded-full p-1 text-white ring-8 ring-gray-200 cursor-pointer hover:bg-[#6941C6] hover:text-white hidden"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              fill-rule="evenodd"
              d="M8 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H8Zm7 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1Z"
              clip-rule="evenodd"
            />
          </svg>
        </div>
        <div class="flex flex-col gap-4">
          <div class="flex justify-between items-center">
            <div class="text-gray-700 inter-5 text-sm">Record 1</div>
            <div>
              <svg
                class="w-[20px] h-[20px] text-gray-500 dark:text-white cursor-pointer hover:text-gray-700 dark:hover:text-gray-300"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"
                />
              </svg>
            </div>
          </div>
          <div class="flex gap-3">
            <div class="flex gap-3 items-center">
              <div>00:{{ playbackTime | number : "2.0" }}</div>
              <div class="w-28 rounded-full h-2 bg-gray-200">
                <div
                  class="h-2 rounded-full bg-[#7F56D9]"
                  [style.width.%]="(playbackTime / recordedDuration) * 100"
                ></div>
              </div>
            </div>
            <div class="flex gap-3 items-center">
              <div>00:{{ recordedDuration | number : "2.0" }}</div>
              <div class="flex gap-1 items-center">
                <div>
                  <svg
                    class="w-[24px] h-[24px] text-black dark:text-white"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M17.5 8.43A4.985 4.985 0 0 1 19 12a4.984 4.984 0 0 1-1.43 3.5M14 6.135v11.73a1 1 0 0 1-1.64.768L8 15H6a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h2l4.36-3.633a1 1 0 0 1 1.64.768Z"
                    />
                  </svg>
                </div>
                <div class="w-[58px] rounded-full h-2 bg-gray-200">
                  <div class="w-6 h-2 rounded-full bg-[#7F56D9]"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      }
    </div>
    <h3 class="text-lg font-semibold">Videos:</h3>
    <div class="rounded-xl w-96">
      <div class="grid grid-cols-1 gap-4 mt-2">
        <div *ngFor="let video of allVideos">
          <div class="relative p-4 border border-gray-200 rounded-xl">
            <video
              [src]="getVideoUrl(video.videoBlob)"
              controls
              class="border border-gray-200 rounded-xl"
            ></video>
            <div class="absolute top-8 right-8">
              <svg
                (click)="openDeleteConfirmation(video.id)"
                class="w-8 h-8 bg-[#0C111D4D] p-1 rounded-full cursor-pointer hover:bg-[#0C111D] text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="p-4 flex gap-3 border border-gray-200 rounded-xl">
      <div>
        <img class="w-10 h-auto" src="../../../assets/images/pdf.png" alt="" />
      </div>
      <div class="flex flex-col">
        <div class="inter-5 text-gray-700 text-sm">
          Tech design requirements.pdf
        </div>
        <div class="inter-4 text-gray-600 text-sm">200 KB</div>
      </div>
    </div>
  </div>
</div>

<!----------------------------------------------------------------------------------------------------------------- ------------------------------------------------ New Journal Input Modal ----------------------------------------- ----------------------------------------------------------------------------------------------------------------------->

<div
  id="journalModalInput"
  class="py-4 sm:ml-[542px] mt-12 pt-6 flex flex-col justify-center items-center hidden"
>
  <div class="px-6 py-2 inter-4 text-xl text-gray-900 w-full">New Journal</div>
  <div class="flex flex-col px-8 py-6 w-full gap-6">
    <form
      [formGroup]="journalForm"
      (keydown.enter)="preventSubmit($event)"
      class="w-full flex flex-col gap-6"
    >
      <div class="flex flex-col gap-[6px]">
        <div class="inter-5 text-gray-700 text-sm">Title</div>
        <div>
          <input
            class="py-[10px] px-[14px] w-full border border-gray-200 rounded-xl hover:border-2 hover:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:border-blue-500 focus:border-2 inter-4 text-base text-gray-500 transition duration-300"
            placeholder="Enter your title"
            formControlName="title"
          />
          @if (title && title.invalid && title.touched) {
          <p class="inter-4 text-red-500 ps-2">Title is required</p>
          }
        </div>
      </div>
      <div class="flex flex-col gap-[6px]">
        <div class="inter-5 text-gray-700 text-sm">Description</div>
        <div>
          <editor
            class="w-full border border-gray-200 rounded-md inter-4 text-base text-gray-500 transition duration-300"
            placeholder="Enter your Description"
            formControlName="description"
            apiKey="y74gca2ql9thvfv5al10yeeq95ysi1o6bvwa0nz56tpsouf2"
            [init]="{
              plugins: [
                'image',
                'link',
                'lists',
                'media',
                'searchreplace',
                'table',
                'visualblocks'
              ]
            }"
          ></editor>
          @if (description && description.invalid && description.touched) {
          <p class="inter-4 text-red-500 ps-2">Description is required</p>
          }
        </div>
      </div>
      <div class="flex flex-col gap-[6px]">
        <div class="inter-5 text-gray-700 text-sm">Tag</div>
        <div>
          <div class="flex flex-wrap gap-2">
            <div class="relative w-full">
              <input
                id="tagInput"
                (keyup.enter)="addTag()"
                (blur)="onBlurTag()"
                class="py-[10px] px-[14px] w-full border border-gray-200 rounded-xl hover:border-2 hover:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:border-blue-500 focus:border-2 inter-4 text-base text-gray-500 transition duration-300"
                placeholder="Enter your tags"
                formControlName="tagEnter"
              />
              <svg
                (click)="addTag()"
                class="absolute right-5 top-1/2 -translate-y-1/2 w-[24px] h-[24px] text-gray-400 hover:text-blue-500 cursor-pointer dark:text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 11.917 9.724 16.5 19 7.5"
                />
              </svg>
            </div>
            @if( hasInteractedTags && tagEnter &&
            tagEnter.errors?.['minimumOneTag']) {
            <p class="inter-4 text-red-500 ps-2">Minimum one tag is required</p>
            }

            <div class="flex flex-wrap gap-2">
              @for (tag of tagEnter.controls; track $index;) {
              <div
                class="flex gap-1 items-center px-[10px] py-1 border border-gray-300 rounded-md"
              >
                <div class="inter-5 text-sm text-gray-700 cursor-default">
                  {{ tag.value }}
                </div>
                <div>
                  <svg
                    (click)="removeTag(tagEnter.controls.indexOf(tag))"
                    class="w-4 h-4 text-gray-400 hover:text-gray-800 dark:text-white cursor-pointer"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M6 18 17.94 6M18 18 6.06 6"
                    />
                  </svg>
                </div>
              </div>
              }
            </div>
          </div>
        </div>
      </div>
      <div class="flex w-full gap-6">
        <!-------------------------------------------------------------------------------------------------------- ----------------------------------------------- Voice Recorder ------------------------------------------- --------------------------------------------------------------------------------------------------------->

        <div id="voiceRecorder" class="flex flex-col">
          <!-- Initial state -->
          @if (currentAudioState === 'initialAudio') {
          <div id="initialState" class="flex flex-col gap-[6px]">
            <div class="inter-5 text-gray-700 text-sm">Record voice</div>
            <div
              class="flex flex-col gap-3 items-center justify-center px-6 py-4 border border-gray-200 rounded-xl"
            >
              <div class="cursor-pointer">
                <img
                  (click)="startRecordingAudio()"
                  src="../../../assets/images/record_mic.png"
                  alt=""
                  class="w-10 h-auto"
                />
              </div>
              <div class="text-sm inter-4 text-gray-600">
                <span
                  (click)="startRecordingAudio()"
                  class="inter-6 text-[#6941C6] text-sm font-semibold cursor-pointer"
                  >Click</span
                >
                to start recording...
              </div>
            </div>
          </div>
          }

          <!-- Recording state -->
          @if (currentAudioState === 'recordingAudio') {
          <div id="initialState" class="flex flex-col gap-[6px] w-fit">
            <div class="inter-5 text-gray-700 text-sm">Record voice</div>
            <div
              class="flex flex-row gap-6 justify-center px-16 py-6 border border-gray-200 rounded-xl"
            >
              <div class="flex flex-col gap-3 items-center">
                <div class="cursor-pointer">
                  @if ( !isPaused ) {
                  <svg
                    (click)="onAudioPause()"
                    id="recordingPauseIcon"
                    class="w-8 h-8 text-white bg-red-500 p-2 rounded-full ring-8 ring-gray-200"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M10 9v6m4-6v6m7-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                    />
                  </svg>
                  } @if (isPaused) {<svg
                    (click)="onAudioResume()"
                    id="recordingResumeIcon"
                    class="w-8 h-8 text-white bg-red-500 p-2 rounded-full ring-8 ring-gray-200"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M8 18V6l8 6-8 6Z"
                    /></svg
                  >}
                </div>
                <div class="text-sm inter-4 text-gray-600 hover:text-[#6941C6]">
                  00:{{ recordingTime | number : "2.0" }}
                </div>
                <div class="w-28 rounded-full h-2 bg-gray-200">
                  <div
                    class="bg-red-500 h-2 rounded-full"
                    [style.width.%]="(recordingTime / maxRecordingTime) * 100"
                  ></div>
                </div>
              </div>
              <div>
                <svg
                  id="recordingStopIcon"
                  (click)="onAudioStop()"
                  class="w-7 h-7 text-white border-white border-2 rounded-full bg-gray-400 p-1 ring-4 ring-gray-200 cursor-pointer"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <rect
                    width="12"
                    height="12"
                    x="6"
                    y="6"
                    stroke="currentColor"
                    stroke-linejoin="round"
                    stroke-width="2.5"
                    rx="1"
                  />
                </svg>
              </div>
            </div>
          </div>
          }

          <!-- Recorded state -->
          @if (currentAudioState === 'recordedAudio') {
          <div
            id="recordedState"
            class="flex gap-5 justify-center p-4 border border-gray-200 rounded-xl w-fit"
          >
            <div>
              <svg
                id="recordedPlayIcon"
                (click)="onRecordedPlay()"
                class="w-8 h-8 bg-[#9E77ED] rounded-full ps-1 text-white ring-8 ring-gray-200 cursor-pointer hover:bg-[#6941C6] hover:text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 18V6l8 6-8 6Z"
                />
              </svg>
              <svg
                id="recordedPauseIcon"
                (click)="onRecordedPause()"
                class="w-8 h-8 bg-[#9E77ED] rounded-full p-1 text-white ring-8 ring-gray-200 cursor-pointer hover:bg-[#6941C6] hover:text-white hidden"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  fill-rule="evenodd"
                  d="M8 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H8Zm7 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1Z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
            <div class="flex flex-col gap-4">
              <div class="flex justify-between items-center">
                <div class="text-gray-700 inter-5 text-sm">Record 1</div>
                <div>
                  <svg
                    class="w-[20px] h-[20px] text-gray-500 dark:text-white cursor-pointer hover:text-gray-700 dark:hover:text-gray-300"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"
                    />
                  </svg>
                </div>
              </div>
              <div class="flex gap-3">
                <div class="flex gap-3 items-center">
                  <div>00:{{ playbackTime | number : "2.0" }}</div>
                  <div class="w-28 rounded-full h-2 bg-gray-200">
                    <div
                      class="h-2 rounded-full bg-[#7F56D9]"
                      [style.width.%]="(playbackTime / recordedDuration) * 100"
                    ></div>
                  </div>
                </div>
                <div class="flex gap-3 items-center">
                  <div>00:{{ recordedDuration | number : "2.0" }}</div>
                  <div class="flex gap-1 items-center">
                    <div>
                      <svg
                        class="w-[24px] h-[24px] text-black dark:text-white"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        fill="none"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke="currentColor"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M17.5 8.43A4.985 4.985 0 0 1 19 12a4.984 4.984 0 0 1-1.43 3.5M14 6.135v11.73a1 1 0 0 1-1.64.768L8 15H6a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h2l4.36-3.633a1 1 0 0 1 1.64.768Z"
                        />
                      </svg>
                    </div>
                    <div class="w-[58px] rounded-full h-2 bg-gray-200">
                      <div class="w-6 h-2 rounded-full bg-[#7F56D9]"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          }
        </div>

        <!------------------------------------------------------------------------------------------------------- ----------------------------------------- Video Input Section --------------------------------------------- ----------------------------------------------------------------------------------------------------------->

        <div id="initialState" class="flex flex-col gap-[6px]">
          <div class="inter-5 text-gray-700 text-sm">Record video</div>
          <div class="flex flex-col items-center">
            <video
              #videoElement
              class="mb-4 max-w-72"
              autoplay
              playsinline
            ></video>
            <div class="flex space-x-4">
              <button
                class="bg-blue-500 text-white px-4 py-2 rounded"
                (click)="isRecording ? stopRecording() : startRecording()"
              >
                {{ isRecording ? "Stop Recording" : "Start Recording" }}
              </button>
            </div>
            <div *ngIf="videoSrc" class="mt-4">
              <h3 class="text-lg font-semibold">Recorded Video:</h3>
              <video [src]="videoSrc" controls class="mt-2 max-w-72"></video>
            </div>
          </div>
        </div>
      </div>

      <!------------------------------------------------------------------------------------------------------------- --------------------------------------------- File Input -------------------------------------------------- ---------------------------------------------------------------------------------------------------------->

      <div class="flex flex-col gap-[6px]">
        <div class="inter-5 text-gray-700 text-sm">Files</div>
        <div class="space-y-3">
          <ul *ngIf="files.length > 0" class="flex flex-col gap-3">
            <li
              *ngFor="let file of files; let i = index"
              class="flex items-center gap-3"
            >
              <div>
                <img
                  [src]="getFileIcon(file)"
                  alt="file icon"
                  class="w-10 h-auto rounded-md"
                />
              </div>
              <div class="flex flex-col gap-1 w-full">
                <div class="flex justify-between">
                  <a
                    [href]="file.fileUrl"
                    class="inter-5 text-gray-700 text-sm hover:text-[#7F56D9] hover:font-semibold hover:underline"
                  >
                    {{ file.file.name }}
                  </a>
                  <div>
                    <button class="" (click)="removeFile(i)">
                      <svg
                        class="w-[24px] h-[24px] text-gray-500 hover:text-red-500"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        fill="none"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke="currentColor"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"
                        />
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="w-full">
                  <p class="inter-4 text-sm text-gray-600">
                    {{ file.file.size / 1024 | number : "1.2-2" }} KB
                  </p>
                </div>
                <div class="flex justify-between items-center gap-3">
                  <div
                    class="relative w-full flex h-2 rounded-full bg-gray-200"
                  >
                    <div
                      class="absolute top-0 h-2 rounded-full bg-purple-600"
                      [style.width.%]="file.progress"
                    ></div>
                  </div>
                  <div class="inter-5 text-gray-700 text-sm">
                    {{ file.progress | number : "1.0-0" }}%
                  </div>
                </div>
              </div>
            </li>
          </ul>
          <input
            type="file"
            (change)="onFileSelect($event)"
            class="hidden"
            #fileInput
            multiple
          />
          <div
            class="p-4 flex flex-col gap-3 items-center justify-center bg-gray-100 rounded-xl border-2 border-dashed border-gray-300 cursor-pointer"
            (click)="fileInput.click()"
          >
            <div>
              <img
                class="p-[10px] w-10 h-10 shadow-sm shadow-[#1018280D] border border-gray-200 rounded-lg"
                src="../../../assets/images/icons/file-upload.png"
                alt=""
              />
            </div>
            <div class="flex flex-col gap-1 items-center">
              <div class="inter-6 text-[#6941C6] text-sm">
                <span class="inter-4 text-gray-600 text-sm"
                  >Click to upload</span
                >
                or drag and drop
              </div>
              <div class="text-xs text-gray-600 inter-4">(max. 5mo)</div>
            </div>
          </div>
        </div>
      </div>
      <div class="w-full flex justify-end gap-3 pt-4">
        <div>
          <button
            (click)="onCancelAddJournal()"
            class="px-4 py-[10px] inter-6 text-sm font-semibold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-100"
          >
            Cancel
          </button>
        </div>
        <div>
          <button
            type="submit"
            (click)="onSubmitAddJournal()"
            class="px-4 py-[10px] inter-6 text-sm font-semibold text-white bg-[#7F56D9] border border-[#7F56D9] rounded-lg hover:bg-[#6941C6] hover:border-[#6941C6]"
          >
            Save
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<!------------------------------------------------------------------------------------------------------------- --------------------------------------------- Confirm Deletion -------------------------------------------------- ---------------------------------------------------------------------------------------------------------->
<div
  *ngIf="showDeleteConfirmation"
  class="fixed inset-0 flex items-center justify-center z-50"
>
  <div class="bg-white rounded-lg shadow-lg p-5">
    <h3 class="text-lg font-semibold">Confirm Deletion</h3>
    <p>Are you sure you want to delete this video?</p>
    <div class="flex justify-end gap-2 mt-4">
      <button
        class="px-4 py-[10px] inter-6 text-base font-semibold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-100"
        (click)="closeDeleteConfirmation()"
      >
        Cancel
      </button>
      <button
        class="px-4 py-[10px] inter-6 text-base font-semibold text-white bg-[#7F56D9] border border-[#7F56D9] rounded-lg hover:bg-[#6941C6] hover:border-[#6941C6]"
        (click)="confirmDelete()"
      >
        Delete
      </button>
    </div>
  </div>
</div>
<div
  *ngIf="showDeleteConfirmation"
  class="fixed inset-0 bg-black opacity-50 z-40"
></div>
